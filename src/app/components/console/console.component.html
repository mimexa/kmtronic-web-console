<div class="page-header">
    <h1>Web console <small>KmTronic 8 channels</small></h1>
</div>
<div style="width: 90%">
    <div class="row">
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
            ID
        </div>
        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            Description and usage
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
            Off/On
        </div>
    </div>
    <hr>

    <div class="row" *ngIf="relays.length==0">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            Data is loading...
        </div>
    </div>
    <div class="row" *ngFor="let relay of relays">
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
            {{relay.id}}
        </div>
        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="text" [(ngModel)]="relay.descriptionInput" [attr.disabled]="relay.isEditable?null:''">
            <i class="glyphicon glyphicon-pencil" *ngIf="!relay.isEditable" (click)="edit(relay)"></i>
            <i class="glyphicon glyphicon-ok" *ngIf="relay.isEditable" (click)="validate(relay)"></i>
            <i class="glyphicon glyphicon-remove" *ngIf="relay.isEditable" (click)="cancel(relay)"></i>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
            <ui-switch [(ngModel)]="relay.isOn" (change)="put(relay)"></ui-switch>
        </div>
    </div>
</div>
<hr>
<div class="panel panel-default">
    <div class="panel-body">
        <div class="card" style="width: 100%;">
            <img class="card-img-top" src="assets/kmtronic.jpg" alt="kmtronic.jpg">
            <div class="card-body">
                <h4 class="card-title">About the KmTronic 8 channels web console</h4>
                <p class="card-text">For more information about the API of the KmTronic device chekout <a href="http://info.kmtronic.com/kmtronic-lan-ethernet-ip-8-channels-web-relay-board.html">technical documentation</a>.</p>
                <p class="card-text">To contribute to the console web application go to the <a href="https://github.com/mimexa/kmtronic-web-console">GitHub</a>                    project</p>
            </div>
        </div>

    </div>
    <div class="panel-footer">
        Â© 2018 Maxime de Mijolla
    </div>
</div>